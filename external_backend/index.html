<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <title>Smartstock IA ‚Ä¢ Command Center</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="glow-bg"></div>

    <nav class="sidebar">
        <div class="logo">SmartStock <span>IA</span></div>
        <div class="nav-links">
            <div class="nav-item active" onclick="switchTab('dashboard-view', this)">üìä Panel</div>
            <div class="nav-item" onclick="switchTab('inventory-view', this)">üì¶ SKUs</div>
            <div class="nav-item" onclick="toggleAccessibility()" style="border-top: 1px solid var(--border); margin-top: 10px; border-bottom: 1px solid var(--border); margin-bottom: 10px;">
                ‚≠êÔ∏è Modo Accesible
            </div>
            <div class="nav-item" onclick="switchTab('ethics-view', this)">‚öñÔ∏è √âtica y Accesibilidad</div>
            <div class="nav-item" onclick="switchTab('about-view', this)">üë• Sobre Nosotros</div>
        </div>
    </nav>

    <main class="main-content">
        <div id="dashboard-view" class="tab-content">
            <header class="top-header">
                <div class="header-text">
                    <h1>Command Center <span class="live-tag">LIVE</span></h1>
                    <p>Optimizaci√≥n predictiva para inventarios</p>
                </div>
                <div class="actions">
                    <input type="file" id="csvFile" accept=".csv" hidden>
                    <button class="btn-upload" onclick="document.getElementById('csvFile').click()">üìÇ Cargar CSV</button>
                    <button id="btnProcess" class="btn-execute" onclick="processData()">EJECUTAR IA</button>
                </div>
            </header>
        
            <div id="system-msg" class="system-msg"></div>

            <p class="ia-disclaimer">
                ‚ö†Ô∏è Smartstock IA es una herramienta de apoyo. Las decisiones finales de compra deben ser validadas por el equipo de operaciones.
            </p>

            <div id="welcome-msg" class="welcome-container">
                <div class="welcome-content">
                    <span class="pulse-icon">üì°</span>
                    <h2>Sistema en espera de datos</h2>
                    <p>Para comenzar el an√°lisis predictivo, por favor carga un archivo <strong>.csv</strong> y presiona <strong>EJECUTAR IA</strong>.</p>
                    <p>Nota: Los datos se procesan en tiempo real y no se almacenan. Para su privacidad, evite subir columnas con datos personales.</p>
                </div>
            </div>
        
            <section id="results-area" class="hidden">
                
                <h2>üìä Resumen Ejecutivo</h2>
                <div id="executive-summary" class="executive-box"></div>
        
                <h2>üîé Resumen T√©cnico</h2>
                <p>
                    Esta secci√≥n muestra el an√°lisis detallado de un producto seleccionado.
                    Puede cambiar de producto desde la pesta√±a <strong>SKUs</strong> para explorar otros casos.
                </p>
        
                <div class="kpi-grid">
                    <div class="kpi-card highlight">
                        <span class="label">Nivel de Riesgo</span>
                        <h2 id="v-risk">--</h2>
                    </div>
                    <div class="kpi-card">
                        <span class="label">Compra Sugerida</span>
                        <h2 id="v-order">--</h2>
                    </div>
                    <div class="kpi-card">
                        <span class="label">Capital</span>
                        <h2 id="v-save">--</h2>
                    </div>
                </div>
        
                <div class="mid-section">
                    <div class="chart-box">
                        <div class="box-header"><h3>Pron√≥stico Semanal</h3></div>
                        <h3 id="product-title"></h3>
                        <div style="height:300px;"><canvas id="mainChart"></canvas></div>
                    </div>
                    <div class="insight-box">
                        <div class="box-header"><h3>Detalle Operativo</h3></div>
                        <div id="insight-text" class="insight-content"></div>
                    </div>
                </div>
            </section>
        </div>

        <div id="inventory-view" class="tab-content hidden">
            <header class="top-header"><h1>Reporte de SKUs</h1></header>
            <section id="macro-dashboard" class="macro-panel hidden">
                <div class="macro-grid">
                    <div class="macro-card">
                        <h3>Riesgo Promedio</h3>
                        <p id="kpi-risk">--</p>
                    </div>
                    <div class="macro-card">
                        <h3>Capital Inmovilizado</h3>
                        <p id="kpi-capital">--</p>
                    </div>
                    <div class="macro-card">
                        <h3>SKU Cr√≠ticos</h3>
                        <p id="kpi-critical">--</p>
                    </div>
                    <div class="macro-card">
                        <h3>Demanda Total</h3>
                        <p id="kpi-demand">--</p>
                    </div>
                </div>
                <!-- <div class="chart-wrapper"> -->
                    <!-- <canvas id="macroChart"></canvas> -->
                <!-- </div> -->
            </section>
            <div class="table-section">
                <table>
                    <thead>
                        <tr><th>SKU</th><th>Categor√≠a</th><th>ROP</th><th>Stock</th><th>Riesgo</th></tr>
                    </thead>
                    <tbody id="table-body"></tbody>
                </table>
            </div>
        </div>
        
        <div id="ethics-view" class="tab-content hidden">
            <div class="executive-box ethics-content">
                <h1><strong>SmartStock AI - C√≥digo de √âtica y Accesibilidad</strong></h1>
                
                <h2>üß± 1. C√≥digo de √âtica</h2>
                <p>SmartStock AI se compromete a desarrollar y operar tecnolog√≠a de inteligencia artificial con responsabilidad, transparencia y respeto hacia las Pymes y sus comunidades. Nuestro c√≥digo de √©tica se basa en cinco principios:</p>
                
                <ol>
                    <li><strong>Transparencia en el uso de datos</strong>
                        <ul>
                            <li>Explicamos claramente qu√© datos se usan y para qu√©.</li>
                            <li>No recolectamos informaci√≥n innecesaria.</li>
                            <li>El usuario siempre mantiene el control de sus datos.</li>
                        </ul>
                    </li>
                    <li><strong>Privacidad y protecci√≥n de la informaci√≥n</strong>
                        <ul>
                            <li>Los datos de ventas y stock se procesan de forma segura.</li>
                            <li>No compartimos informaci√≥n con terceros sin consentimiento.</li>
                            <li>Aplicamos buenas pr√°cticas de seguridad para evitar filtraciones.</li>
                        </ul>
                    </li>
                    <li><strong>IA responsable y explicable</strong>
                        <ul>
                            <li>Justificaci√≥n clara en recomendaciones (demanda, riesgo, nivel √≥ptimo).</li>
                            <li>Evitamos modelos ‚Äúcaja negra‚Äù en decisiones cr√≠ticas.</li>
                            <li>El usuario puede revisar y corregir las recomendaciones.</li>
                        </ul>
                    </li>
                    <li><strong>No discriminaci√≥n y equidad</strong>
                        <ul>
                            <li>Sin favoritismos por proveedores, marcas o productos.</li>
                            <li>Decisiones basadas √∫nicamente en datos objetivos.</li>
                            <li>Evitamos sesgos que perjudiquen a negocios peque√±os.</li>
                        </ul>
                    </li>
                    <li><strong>Sostenibilidad y eficiencia</strong>
                        <ul>
                            <li>Reducci√≥n de desperdicios mediante inventarios eficientes.</li>
                            <li>Optimizaci√≥n de capital y recursos para Pymes.</li>
                            <li>Fomento de pr√°cticas responsables en la cadena de suministro.</li>
                        </ul>
                    </li>
                </ol>
            
                <hr style="border: 0; border-top: 1px solid var(--border); margin: 20px 0;">
            
                <h2>‚ôø 2. Accesibilidad</h2>
                <p>Dise√±ado para todo tipo de usuarios, independientemente de sus capacidades o limitaciones tecnol√≥gicas.</p>
                
                <ol>
                    <li><strong>Interfaz simple y clara</strong>
                        <ul>
                            <li>Dashboard intuitivo y lenguaje sin tecnicismos.</li>
                            <li>Recomendaciones directas y accionables.</li>
                        </ul>
                    </li>
                    <li><strong>Compatibilidad t√©cnica</strong>
                        <ul>
                            <li>Funciona en navegadores est√°ndar y hardware b√°sico.</li>
                            <li>Optimizado para conexiones inestables.</li>
                        </ul>
                    </li>
                    <li><strong>Inclusi√≥n y Discapacidad</strong>
                        <ul>
                            <li>Alto contraste para baja visi√≥n y soporte para lectores de pantalla.</li>
                            <li>Botones grandes y etiquetas descriptivas.</li>
                        </ul>
                    </li>
                    <li><strong>Inclusi√≥n digital</strong>
                        <ul>
                            <li>Carga v√≠a CSV simple para Pymes sin sistemas complejos (ERP).</li>
                            <li>Gu√≠as paso a paso integradas.</li>
                        </ul>
                    </li>
                </ol>
            </div> 
        </div>

        <div id="about-view" class="tab-content hidden">
            <h2>üë• Sobre Nosotros</h2>
            <div class="executive-box">
                <h1><strong>Sobre SmartStock IA</strong></h1>
                
                <p>Cada d√≠a, una Pyme pierde ventas sin notarlo. SmartStock IA nace para cerrar esa brecha, transformando datos hist√≥ricos en decisiones estrat√©gicas de reposici√≥n. No somos solo una herramienta de an√°lisis; somos el motor de acci√≥n para el comercio local.</p>
            
                <h3>üéØ Nuestra Propuesta</h3>
                <p>Convertimos la complejidad de la ciencia de datos en recomendaciones claras: <strong>cu√°ndo y cu√°nto reponer</strong>. A trav√©s de modelos avanzados como <em>Prophet</em> y c√°lculos de optimizaci√≥n de stock, ayudamos a:</p>
                <ul>
                    <li><strong>Reducir quiebres:</strong> No pierdas m√°s ventas por falta de producto.</li>
                    <li><strong>Eliminar inventario muerto:</strong> Libera capital inmovilizado en art√≠culos que no rotan.</li>
                    <li><strong>Mejorar el flujo de caja:</strong> Compra solo lo que realmente vas a vender.</li>
                </ul>
            
                <h3>üí° Tecnolog√≠a con Prop√≥sito</h3>
                <p>Sabemos que muchas Pymes no cuentan con sistemas ERP complejos. Por eso, dise√±amos una interfaz <strong>accesible, simple y humana</strong>. Nuestra prioridad es eliminar las barreras tecnol√≥gicas para que cualquier emprendedor, sin importar su nivel de alfabetizaci√≥n digital, pueda competir en igualdad de condiciones.</p>
            
                <h3>üöÄ El Futuro</h3>
                <p>Estamos construyendo el centro de comando definitivo para el retail independiente. Proyectamos integrar alertas autom√°ticas, simuladores de ahorro en tiempo real y conexiones directas para que la gesti√≥n inteligente est√© al alcance de un solo clic.</p>

                <p>Visita nuestro <strong><a href="https://github.com/remBits/smart-stock-AI/tree/feature/integracion" target="_blank">repositorio en GitHub</a></strong> para ver m√°s detalles t√©cnicos y futuras mejoras.</p>
                
                <p style="text-align: center; margin-top: 20px; font-style: italic; color: var(--accent);">
                    "SmartStock IA: Convierte tus datos en decisiones."
                </p>
            </div>
        </div>

    </main>

    <script src="/static/script.js"></script>
</body>
</html>
